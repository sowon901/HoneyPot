<template>
    <div>
        <div class="page-title-area">
            <div class="container">
                <ul>
                    <li><nuxt-link to="/">Home</nuxt-link></li>
                    <li>íšŒì›ê°€ì…</li>
                    <li>ì•„í‹°ìŠ¤íŠ¸ ì„ íƒ</li>
                </ul>
            </div>
        </div>
<br><br><br>
        <div class="container">
            <div class="step-indicator">
                <div class="step active">
                    <div class="step-number">1</div>
                    <div class="step-text">ì•½ê´€ ë™ì˜</div>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-text">ì •ë³´ ì…ë ¥</div>
                </div>
                <div class="step-line"></div>
                <div class="step current">
                    <div class="step-number">3</div>
                    <div class="step-text">ì•„í‹°ìŠ¤íŠ¸ ì„ íƒ</div>
                </div>
            </div>

            <div class="idol-selector">
            <br><br><br>
            <h3 style="font-weight: bold;">ê¿€ë‹¨ì§€ì— ë‹´ì„ ì•„í‹°ìŠ¤íŠ¸ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš” ğŸ</h3>
            <h6 style="color:darkgray">* ìµœëŒ€ 3 ì•„í‹°ìŠ¤íŠ¸ ì„ íƒ ê°€ëŠ¥</h6>
            <br><br><br>
            <form @submit.prevent="submitSelection">
                <div class="idol-list">
                    <div v-for="idol in idols" :key="idol.name" class="idol-item" @click="toggleSelection(idol.name)">
                        <div :class="{'image-container': true, 'selected': isSelected(idol.name)}">
                            <img :src="idol.image" :alt="idol.name" class="idol-image"><br>
                        </div>
                        <p class="chosen-idol-name">{{ idol.name }}</p>

                    </div>
                </div>

                <div class="selected-idols">
                    <span v-for="(idolTag, index) in selectedIdolsTags" :key="index" class="idol-tag">{{ idolTag }}</span>
                </div>
                <br><br>
                <button type="button" class="btn btn-primary" @click="submitSelection" :disabled="selectedIdols.length === 0">ë‹¨ì§€ì— ë‹´ê¸°</button>
            </form>
        </div>
            </div>
        <br><br>
    </div>
</template>

<style scoped>
.idol-selector {
    width: 50%; /* ì»¨í…Œì´ë„ˆì˜ ë„ˆë¹„ì˜ ì ˆë°˜ìœ¼ë¡œ ì„¤ì • */
    margin: 0 auto; /* í™”ë©´ ê°€ìš´ë° ì •ë ¬ */
}

.idol-selector form {
    display: flex;
    flex-direction: column;
    align-items: center;
}
.idol-list {
    display: flex;
    flex-wrap: wrap; /* ìš”ì†Œë“¤ì´ ì—¬ëŸ¬ ì¤„ì— ê±¸ì³ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë„ë¡ ì„¤ì • */
    justify-content: space-between; /* ìš”ì†Œë“¤ ì‚¬ì´ì— ê³µê°„ì„ ê· ë“±í•˜ê²Œ ë°°ë¶„ */
}

.idol-item {
    width: calc(25% - 20px); /* í•œ í–‰ì— 4ê°œì˜ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•˜ë„ë¡ ë„ˆë¹„ ì„¤ì • */
    cursor: pointer;
    margin-bottom: 20px; /* ì´ë¯¸ì§€ ì•„ë˜ì— ê°„ê²© ì¶”ê°€ */
    margin-right: 20px; /* ì´ë¯¸ì§€ ì‚¬ì´ì˜ ê°„ê²©ì„ ì¢í˜ */
}
.chosen-idol-name {
    text-align: center; /* í…ìŠ¤íŠ¸ë¥¼ ê°€ìš´ë° ì •ë ¬í•©ë‹ˆë‹¤. */
    margin-right: 20px; /* ì´ë¯¸ì§€ ì‚¬ì´ì˜ ê°„ê²©ì„ ì¢í˜ */
    margin-bottom: 20px; /* ì´ë¯¸ì§€ ì•„ë˜ì— ê°„ê²© ì¶”ê°€ */
}

.image-container {
    margin: 10px;
    width: 100px;
    height: 100px;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    border-radius: 50%;
    transition: border 0.3s;
}
.idol-image {
    width: 100%;
    height: auto;
}
.selected {
    border: 2px solid #FFB400;
}
.selected-idols {
    margin-top: 20px; /* ì„ íƒëœ ì•„ì´ëŒ íƒœê·¸ì™€ ë²„íŠ¼ ì‚¬ì´ì˜ ê°„ê²© ì¡°ì • */
}

.idol-tag {
    display: inline-block;
    padding: 5px 10px;
    background-color: #FFD97F;
    color: white;
    border-radius: 20px;
    margin-right: 5px;
    cursor: pointer;
}

.step-indicator {
    width: 50%; /* ì»¨í…Œì´ë„ˆì˜ ë„ˆë¹„ì˜ ì ˆë°˜ìœ¼ë¡œ ì„¤ì • */
    margin: 0 auto; /* í™”ë©´ ê°€ìš´ë° ì •ë ¬ */
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
}

.step {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.step-number {
    width: 30px;
    height: 30px;
    line-height: 30px;
    border-radius: 50%;
    border: 2px solid gainsboro;
    background-color: white;
    color: gainsboro;
    margin-bottom: 5px;
}

.step-text {
    color: darkgray;
}

.step.active .step-number {
    border-color: gainsboro;
    background-color: white;
}

.step.current .step-number {
    border-color: #FFB400;
    background-color: #FFB400;
    color: white;
}

.step.current .step-text {
    color: black;
}

.step-line {
    height: 1px;
    flex-grow: 1; /* ì´ ë¶€ë¶„ì„ ì¡°ì •í•˜ì—¬ ì‹¤ì„ ì´ ì› ì‚¬ì´ì—ì„œ ê½‰ ì°¨ë„ë¡ í•©ë‹ˆë‹¤ */
    background-color: gainsboro;
    margin: 0 5px; /* ì›ê³¼ ì‹¤ì„  ì‚¬ì´ì˜ ê°„ê²©ì„ ì¡°ì ˆí•©ë‹ˆë‹¤ */
}

</style>


<script>
import TopHeader from '../layouts/TopHeader'
import Menubar from '../layouts/Menubar'

export default {
    components: {
        TopHeader,
        Menubar,
    },

    mounted() {

    },
    data() {
        return {
            idols: [
                { name: 'BLACKPINK', image: require('~/assets/img/idol-logo-image/blackpink.jpg') },
                { name: 'BTS', image: require('~/assets/img/idol-logo-image/bts.jpg') },
                { name: 'NCT', image: require('~/assets/img/idol-logo-image/nct.png') },
                { name: 'TWICE', image: require('~/assets/img/idol-logo-image/twice.jpg') },
                { name: 'Stray Kids', image: require('~/assets/img/idol-logo-image/straykids.jpg') },
                { name: 'TXT', image: require('~/assets/img/idol-logo-image/txt.jpg') },
                { name: 'SEVENTEEN', image: require('~/assets/img/idol-logo-image/seventeen.jpg') },
                { name: 'EXO', image: require('~/assets/img/idol-logo-image/exo.png') },
                { name: 'ì•„ì´ìœ ', image: require('~/assets/img/idol-logo-image/IU.jpg') },
                { name: 'ITZY', image: require('~/assets/img/idol-logo-image/itzy.jpg') },
                { name: 'ENHYPEN', image: require('~/assets/img/idol-logo-image/enhypen.jpg') },
                { name: 'TREASURE', image: require('~/assets/img/idol-logo-image/treasure.jpg') },
                { name: '(G)I-DLE', image: require('~/assets/img/idol-logo-image/(G)I-DLE.jpg') },
                { name: 'NewJeans', image: require('~/assets/img/idol-logo-image/newjeans.jpg') },
                { name: 'aespa', image: require('~/assets/img/idol-logo-image/aespa.jpg') },
                { name: 'LE SSERAFIM', image: require('~/assets/img/idol-logo-image/leserrafim.jpg') },
                { name: 'ATEEZ', image: require('~/assets/img/idol-logo-image/ateez.jpg') },
                { name: 'ìš°ì£¼ì†Œë…€', image: require('~/assets/img/idol-logo-image/wjsn.jpg') },
                { name: 'IVE', image: require('~/assets/img/idol-logo-image/ive.jpg') },
                { name: 'ëª¬ìŠ¤íƒ€ì—‘ìŠ¤', image: require('~/assets/img/idol-logo-image/monstax.jpg') },
                { name: 'SHINee', image: require('~/assets/img/idol-logo-image/shinee.jpg') },
                { name: 'Kep1er', image: require('~/assets/img/idol-logo-image/kep1er.jpg') },
                { name: 'CIX', image: require('~/assets/img/idol-logo-image/cix.jpg') },
                { name: 'ë ˆë“œë²¨ë²³', image: require('~/assets/img/idol-logo-image/redvelvet.jpg') },
                { name: 'ì˜¤ë§ˆì´ê±¸', image: require('~/assets/img/idol-logo-image/ohmygirl.jpg') },
                { name: 'ì•„ì¼ë¦¿', image: require('~/assets/img/idol-logo-image/illit.jpg') },
                { name: 'NMIXX', image: require('~/assets/img/idol-logo-image/nmixx.jpg') },
                { name: 'ë”ë³´ì´ì¦ˆ', image: require('~/assets/img/idol-logo-image/theboyz.jpg') },
                { name: 'BOYNEXTDOOR', image: require('~/assets/img/idol-logo-image/boynextdoor.jpg') },
                { name: 'ZEROBASEONE', image: require('~/assets/img/idol-logo-image/zerobaseone.jpg') },
                { name: '', image: require('~/assets/img/idol-logo-image/blank.png') },
                { name: '', image: require('~/assets/img/idol-logo-image/blank.png') },



                // ì¶”ê°€ ê·¸ë£¹ ì´ë¯¸ì§€ ë° ì •ë³´
            ],
            selectedIdols: [],
            selectedIdolsTags: [], // ì„ íƒí•œ ì•„ì´ëŒ ì´ë¦„ì„ ì €ì¥í•  ë³€ìˆ˜ ì¶”ê°€
        };
    },
    methods: {
        toggleSelection(idolName) {
            const index = this.selectedIdols.indexOf(idolName);
            if (index !== -1) {
                this.selectedIdols.splice(index, 1);
                this.selectedIdolsTags.splice(index, 1); // ì•„ì´ëŒ ì„ íƒ í•´ì œ ì‹œ í•´ë‹¹ íƒœê·¸ ì œê±°
            } else if (this.selectedIdols.length < 3) {
                this.selectedIdols.push(idolName);
                this.selectedIdolsTags.push(idolName); // ì•„ì´ëŒ ì„ íƒ ì‹œ í•´ë‹¹ íƒœê·¸ ì¶”ê°€
            }
        },
        isSelected(idolName) {
            return this.selectedIdols.includes(idolName);
        },
        submitSelection() {
            //alert(`ì„ íƒëœ ì•„ì´ëŒ: ${this.selectedIdols.join(', ')}`);
            alert('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! \nê¿€ë‹¨ì§€ë¥¼ ì±„ì›Œë³´ì„¸ìš”ğŸ¯');
        },
    },
};
</script>
